<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Pagar Entradas</title>
    <link rel="stylesheet" href="/static/Session.css">
    <link rel="stylesheet" href="/static/Buttons.css">
</head>
<body class="bodyRegister">

<!-- Encabezado con imagen -->
<div class="header">
    <img src="/static/header.png" alt="WTF Cinema" class="header-logo">
</div>

<!-- Botón de volver -->
<div id="home3" class="homeButton">
    <button id="homeBtn" class="client-button" onclick="location.href='/seats.html'">
        Volver
    </button>
</div>

<!-- Título -->
<h2 class="titleReg">Pago</h2>

<!-- Resumen del precio ($0 porque WTF Cinema da las entradas gratis los 1ros meses) -->
<div class="payment-summary">
    <p>Precio total: <span class="price">$0</span></p>
</div>

<!-- Sección para tarjeta guardada -->
<div id="saved-cards" class="payment-option">
    <h4>Tarjeta Guardada</h4>
    <div th:if="${client.cardNbr != null}">
        <p>**** **** **** <span th:text="${client.cardNbr.toString().substring(client.cardNbr.toString().length() - 4)}"></span></p>
        <button class="btn-confirm" onclick="payWithSavedCard('${client.cardNbr}')">Pagar con esta tarjeta</button>
    </div>
    <div th:if="${client.cardNbr == null}">
        <p>No tienes una tarjeta guardada.</p>
    </div>
</div>

<!-- Sección para agregar nueva tarjeta -->
<div id="add-card" class="payment-option">
    <h4>Agregar Nueva Tarjeta</h4>
    <form th:action="@{/add-card}" method="post">
        <label for="card-number">Número de Tarjeta</label>
        <input type="text" id="card-number" name="card-number" class="input-card-number" placeholder="Ingresa el número de la tarjeta" required>
        <button type="submit" class="btn-add-card">Agregar</button>
    </form>
</div>

</body>
</html>
