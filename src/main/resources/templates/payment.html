<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Pagar Entradas</title>
    <link rel="stylesheet" th:href="@{/css/Session.css}" />
    <link rel="stylesheet" th:href="@{/css/Buttons.css}" />
</head>
<body class="bodyRegister">

<!-- Encabezado con imagen -->
<div class="header">
    <img src="/static/header.png" alt="WTF Cinema" class="header-logo">
</div>

<!-- Botón de volver -->
<div id="home3" class="homeButton">
    <button id="homeBtn" class="client-button" onclick="location.href='/seats.html'">
        Volver
    </button>
</div>

<div class="flex titleReg">
    Elija su método de pago
</div>

<!-- Sección para mostrar tarjeta guardada -->
<div id="saved-cards" class="mb-4">
    <h4>Tarjeta Guardada</h4>
    <div th:if="${client.cardNbr != null}">
        <p th:text="'**** **** **** ' + ${#numbers.format(client.cardNbr.toString().substring(client.cardNbr.toString().length() - 4))}"></p>
        <button class="btn btn-primary" onclick="payWithSavedCard('${client.cardNbr}')">Confirmar</button>
    </div>
    <div th:if="${client.cardNbr == null}">
        <p>Agrega una tarjeta para continuar.</p>
    </div>
</div>

<!-- Sección para agregar tarjeta -->
<div id="add-card" class="mb-4">
    <h4>Agregar nueva Tarjeta</h4>
    <form action="#" th:action="@{/add-card}" method="post">
        <div class="mb-3">
            <label for="card-number" class="form-label">Número de Tarjeta</label>
            <input type="text" id="card-number" name="card-number" class="form-control" placeholder="Ingrese el número de tarjeta" required>
        </div>
        <button type="submit" class="btn btn-success">Agregar Tarjeta</button>
    </form>
</div>

<!-- Botón para proceder al pago -->
<button id="proceed-to-payment" class="btn btn-warning">Pagar</button>


<script src="/static/scripts.js"></script>
</body>
</html>